{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{MapContainer,TileLayer,GeoJSON,CircleMarker,Popup}from\"react-leaflet\";import Papa from\"papaparse\";import\"leaflet/dist/leaflet.css\";import file2017 from\"./assets/data/joined2017.csv\";import file2021 from\"./assets/data/joined2021.csv\";import file2022 from\"./assets/data/joined2022.csv\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProportionalSymbolMap=_ref=>{let{year}=_ref;const[data,setData]=useState([]);const fileMapping={2017:file2017,2021:file2021,2022:file2022};const columnName=\"gni_pc_m_\".concat(year);const csvData=fileMapping[year];useEffect(()=>{if(csvData){Papa.parse(csvData,{download:true,header:true,skipEmptyLines:true,complete:result=>setData(result.data)});}},[csvData]);const scaleSize=value=>Math.sqrt(value)/10;// Adjust as necessary\nreturn/*#__PURE__*/_jsxs(MapContainer,{style:{height:\"500px\",width:\"100%\"},center:[0,20]// Coordinates for Africa\n,zoom:3,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"}),data.map((row,index)=>{const lat=parseFloat(row.LABEL_Y);const lng=parseFloat(row.LABEL_X);const gni=parseFloat(row[columnName]);if(isNaN(lat)||isNaN(lng)||isNaN(gni))return null;return/*#__PURE__*/_jsx(CircleMarker,{center:[lat,lng],radius:scaleSize(gni),color:\"blue\",fillOpacity:0.6,children:/*#__PURE__*/_jsxs(Popup,{children:[/*#__PURE__*/_jsx(\"strong\",{children:row.SOV_A3}),/*#__PURE__*/_jsx(\"br\",{}),\"GNI per Capita (Male): \",gni,\" PPP($)\"]})},index);})]});};export default ProportionalSymbolMap;","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","GeoJSON","CircleMarker","Popup","Papa","file2017","file2021","file2022","jsx","_jsx","jsxs","_jsxs","ProportionalSymbolMap","_ref","year","data","setData","fileMapping","columnName","concat","csvData","parse","download","header","skipEmptyLines","complete","result","scaleSize","value","Math","sqrt","style","height","width","center","zoom","children","url","attribution","map","row","index","lat","parseFloat","LABEL_Y","lng","LABEL_X","gni","isNaN","radius","color","fillOpacity","SOV_A3"],"sources":["C:/Users/mirei/Desktop/undp-mapping/src/ProportionalSymbolMap.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, GeoJSON, CircleMarker, Popup } from \"react-leaflet\";\nimport Papa from \"papaparse\";\nimport \"leaflet/dist/leaflet.css\";\nimport file2017 from \"./assets/data/joined2017.csv\";\nimport file2021 from \"./assets/data/joined2021.csv\";\nimport file2022 from \"./assets/data/joined2022.csv\";\n\nconst ProportionalSymbolMap = ({ year }) => {\n  const [data, setData] = useState([]);\n  const fileMapping = {\n    2017: file2017,\n    2021: file2021,\n    2022: file2022,\n  };\n  const columnName = `gni_pc_m_${year}`;\n  const csvData = fileMapping[year];\n\n  useEffect(() => {\n    if (csvData) {\n      Papa.parse(csvData, {\n        download: true,\n        header: true,\n        skipEmptyLines: true,\n        complete: (result) => setData(result.data),\n      });\n    }\n  }, [csvData]);\n\n  const scaleSize = (value) => Math.sqrt(value) / 10; // Adjust as necessary\n\n  return (\n    <MapContainer\n      style={{ height: \"500px\", width: \"100%\" }}\n      center={[0, 20]} // Coordinates for Africa\n      zoom={3}\n    >\n      <TileLayer\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      {data.map((row, index) => {\n        const lat = parseFloat(row.LABEL_Y);\n        const lng = parseFloat(row.LABEL_X);\n        const gni = parseFloat(row[columnName]);\n\n        if (isNaN(lat) || isNaN(lng) || isNaN(gni)) return null;\n\n        return (\n          <CircleMarker\n            key={index}\n            center={[lat, lng]}\n            radius={scaleSize(gni)}\n            color=\"blue\"\n            fillOpacity={0.6}\n          >\n            <Popup>\n              <strong>{row.SOV_A3}</strong>\n              <br />\n              GNI per Capita (Male): {gni} PPP($)\n            </Popup>\n          </CircleMarker>\n        );\n      })}\n    </MapContainer>\n  );\n};\n\nexport default ProportionalSymbolMap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}