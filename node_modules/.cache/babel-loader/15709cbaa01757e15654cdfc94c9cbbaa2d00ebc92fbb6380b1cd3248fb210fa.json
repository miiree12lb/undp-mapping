{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mirei\\\\Desktop\\\\undp-mapping\\\\src\\\\ProportionalSymbolMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { MapContainer, TileLayer, GeoJSON, CircleMarker, Popup } from \"react-leaflet\";\nimport Papa from \"papaparse\";\nimport \"leaflet/dist/leaflet.css\";\nimport file2017 from \"./assets/data/joined2017.csv\";\nimport file2021 from \"./assets/data/joined2021.csv\";\nimport file2022 from \"./assets/data/joined2022.csv\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProportionalSymbolMap = ({\n  year\n}) => {\n  _s();\n  const isDesktop = useMediaQuery({\n    minWidth: 801\n  });\n  const [mapWidth, setMapWidth] = useState(window.innerWidth);\n  const fileMapping = {\n    2017: file2017,\n    2021: file2021,\n    2022: file2022\n  };\n  const columnName = `gni_pc_m_${year}`;\n  const csvData = fileMapping[year];\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (csvData) {\n      Papa.parse(csvData, {\n        download: true,\n        header: true,\n        skipEmptyLines: true,\n        complete: result => setData(result.data)\n      });\n    }\n  }, [csvData]);\n  useEffect(() => {\n    const handleResize = () => {\n      setMapWidth(window.innerWidth);\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  const scaleSize = value => Math.sqrt(value) / 10; // Adjust as necessary\n\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    style: {\n      height: \"500px\",\n      width: isDesktop ? `${mapWidth * 0.25}px` : `${mapWidth * 0.9}px`\n    },\n    center: [0, 20] // Coordinates for Africa\n    ,\n    zoom: 3,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), data.map((row, index) => {\n      const lat = parseFloat(row.LABEL_Y);\n      const lng = parseFloat(row.LABEL_X);\n      const gni = parseFloat(row[columnName]);\n      if (isNaN(lat) || isNaN(lng) || isNaN(gni)) return null;\n      return /*#__PURE__*/_jsxDEV(CircleMarker, {\n        center: [lat, lng],\n        radius: scaleSize(gni),\n        color: \"blue\",\n        fillOpacity: 0.6,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: row.SOV_A3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), \"GNI per Capita (Male): \", gni, \" PPP($)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(ProportionalSymbolMap, \"Lq93aXlpD1LAGv073Na+6UvPmAY=\", false, function () {\n  return [useMediaQuery];\n});\n_c = ProportionalSymbolMap;\nexport default ProportionalSymbolMap;\nvar _c;\n$RefreshReg$(_c, \"ProportionalSymbolMap\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","GeoJSON","CircleMarker","Popup","Papa","file2017","file2021","file2022","useMediaQuery","jsxDEV","_jsxDEV","ProportionalSymbolMap","year","_s","isDesktop","minWidth","mapWidth","setMapWidth","window","innerWidth","fileMapping","columnName","csvData","data","setData","parse","download","header","skipEmptyLines","complete","result","handleResize","addEventListener","removeEventListener","scaleSize","value","Math","sqrt","style","height","width","center","zoom","children","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","map","row","index","lat","parseFloat","LABEL_Y","lng","LABEL_X","gni","isNaN","radius","color","fillOpacity","SOV_A3","_c","$RefreshReg$"],"sources":["C:/Users/mirei/Desktop/undp-mapping/src/ProportionalSymbolMap.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { MapContainer, TileLayer, GeoJSON, CircleMarker, Popup } from \"react-leaflet\";\r\nimport Papa from \"papaparse\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport file2017 from \"./assets/data/joined2017.csv\";\r\nimport file2021 from \"./assets/data/joined2021.csv\";\r\nimport file2022 from \"./assets/data/joined2022.csv\";\r\nimport { useMediaQuery } from \"react-responsive\";\r\n\r\nconst ProportionalSymbolMap = ({ year }) => {\r\n  const isDesktop = useMediaQuery({ minWidth: 801 });\r\n  const [mapWidth, setMapWidth] = useState(window.innerWidth);\r\n\r\n  const fileMapping = {\r\n    2017: file2017,\r\n    2021: file2021,\r\n    2022: file2022,\r\n  };\r\n  const columnName = `gni_pc_m_${year}`;\r\n  const csvData = fileMapping[year];\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (csvData) {\r\n      Papa.parse(csvData, {\r\n        download: true,\r\n        header: true,\r\n        skipEmptyLines: true,\r\n        complete: (result) => setData(result.data),\r\n      });\r\n    }\r\n  }, [csvData]);\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setMapWidth(window.innerWidth);\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  const scaleSize = (value) => Math.sqrt(value) / 10; // Adjust as necessary\r\n\r\n  return (\r\n    <MapContainer\r\n      style={{\r\n        height: \"500px\",\r\n        width: isDesktop ? `${mapWidth * 0.25}px` : `${mapWidth * 0.9}px`,\r\n      }}\r\n      center={[0, 20]} // Coordinates for Africa\r\n      zoom={3}\r\n    >\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      />\r\n      {data.map((row, index) => {\r\n        const lat = parseFloat(row.LABEL_Y);\r\n        const lng = parseFloat(row.LABEL_X);\r\n        const gni = parseFloat(row[columnName]);\r\n\r\n        if (isNaN(lat) || isNaN(lng) || isNaN(gni)) return null;\r\n\r\n        return (\r\n          <CircleMarker\r\n            key={index}\r\n            center={[lat, lng]}\r\n            radius={scaleSize(gni)}\r\n            color=\"blue\"\r\n            fillOpacity={0.6}\r\n          >\r\n            <Popup>\r\n              <strong>{row.SOV_A3}</strong>\r\n              <br />\r\n              GNI per Capita (Male): {gni} PPP($)\r\n            </Popup>\r\n          </CircleMarker>\r\n        );\r\n      })}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default ProportionalSymbolMap;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}